<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <button id="floatBtn">点击按钮</button>
    <style>
        #floatBtn {
            position: relative;
            width: 100px;
            height: 50px;
            font-size: 16px;
        }

        #floatWindow {
            width: 200px;
            height: 200px;
            background-color: yellow;
            border: 2px solid black;
            box-sizing: border-box;
            position: absolute;
            top: 50px;
            left: 50px;
        }

        .resize {
            position: absolute;
            width: 10px;
            height: 10px;
            cursor: nwse-resize;
        }

        .resize.left {
            left: -5px;
            top: 50%;
            margin-top: -5px;
        }

        .resize.top {
            top: -5px;
            left: 50%;
            margin-left: -5px;
        }

        .resize.right {
            right: -5px;
            top: 50%;
            margin-top: -5px;
        }

        .resize.bottom {
            bottom: -5px;
            left: 50%;
            margin-left: -5px;
        }

        .resize.corner {
            width: 20px;
            height: 20px;
            left: -10px;
            top: -10px;
            cursor: nwse-resize;
        }
    </style>
    <script>
        const btn = document.getElementById('floatBtn');
        btn.addEventListener('click', () => {
            const floatWindow = document.createElement('div');
            floatWindow.id = 'floatWindow';
            floatWindow.classList.add('draggable');
            floatWindow.innerHTML = `
            <div class="resize left"></div>
            <div class="resize top" ></div>
            <div class="resize right"></div>
            <div class="resize bottom"></div>
            <div class="resize corner"></div>`;
            document.body.appendChild(floatWindow);
            const resizers = floatWindow.querySelectorAll('.resize');
            let currentResizer;
            for (const resizer of resizers) {
                resizer.addEventListener('mousedown', () => {
                    currentResizer = resizer;
                    const x = event.clientX;
                    const y = event.clientY;
                    const floatRect = floatWindow.getBoundingClientRect();
                    const width = floatRect.width;
                    const height = floatRect.height;
                    const left = floatRect.left;
                    const top = floatRect.top;
                    document.addEventListener('mousemove', onMouseMove);
                    document.addEventListener('mouseup', onMouseUp);
                    function onMouseMove(event) {
                        const diffX = event.clientX - x;
                        const diffY = event.clientY - y;
                        if (currentResizer.classList.contains('right')) {
                            floatWindow.style.width = `${width + diffX}px`;
                        }
                        if (currentResizer.classList.contains('bottom')) {
                            floatWindow.style.height = `${height + diffY}px`;
                        }
                        if (currentResizer.classList.contains('left')) {
                            floatWindow.style.width = `${width - diffX}px`
                            floatWindow.style.left = `${left + diffX}px`;
                        }
                        if (currentResizer.classList.contains('top')) {
                            floatWindow.style.height = `${height - diffY}px`;
                            floatWindow.style.top = `${top + diffY}px`;
                        }
                        if (currentResizer.classList.contains('corner')) {
                            floatWindow.style.width = `${width + diffX}px`;
                            floatWindow.style.height = `${height + diffY}px`;
                        }
                    }
                    function onMouseUp() {
                        document.removeEventListener('mousemove', onMouseMove);
                        document.removeEventListener('mouseup', onMouseUp);
                    }
                });
            }
        });
    </script>
</body>

</html>