<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <!-- 引入 Bootstrap 的 CSS 文件 -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />

        <!-- 引入 Bootstrap 的 JavaScript 文件，需要先引入 Popper.js -->
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>

        <!--第一步加载插件文件-->
        <link rel="stylesheet" href="select\css\bootstrap-select.css" />

        <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
        
        <script src="select\js\bootstrap-select.js" type="text/javascript"></script>
        <script src="select/js/i18n/defaults-zh_CN.js"></script>
    </head>
    <body>
        <div class="container">
            <div class="form-group">
                <label>年级</label>
                <!--第二步写html代码-->
                <select name="grade" multiple id="se-grade">
                    <option value="1">高一</option>
                    <option value="2">高二</option>
                    <option value="3">高三</option>
                </select>

                <input type="text" name="UserName" class="form-control" />
            </div>
            <div class="form-group">
                <button class="btn btn-default" id="btn-sub">提交</button>
                <button class="btn btn-default" id="btn-cre">生成</button>
            </div>
        </div>

        <script>
            $('#btn-cre').on('click', function () {
                $('#se-grade').append(
                    "<optgroup label='小学'><option value='10'>小学一年级</option><option value='11'>小学二年级</option><option value='12'>小学三年级</option><option value='13'>小学四年级</option><option value='14'>小学五年级</option><option value='15'>小学六年级</option></optgroup>"
                )
                //刷新select元素，当使用js生成选项时这个时很必要的
                $('#se-grade').selectpicker('refresh')
            })
            $('#btn-sub').on('click', function () {
                //如果option没有value属性，获取的是option的文本，如果他有value属性，获取的是属性值
                //alert(  $("#se-grade").selectpicker('val'));

                //用js的方法选择select，优先value属性值
                //$("#se-grade").selectpicker('val', ['1','2']);

                //有value属性无法使用text值设置
                //$("#se-grade").selectpicker('val', ['高一','初一']);
                //选中所有  //取消选中所有deselectAll
                //$('#se-grade').selectpicker('selectAll');
                alert($('#se-grade').selectpicker('val'))
            })

            $(function () {
                //初始化
                $('#se-grade').selectpicker({
                    noneSelectedText: '请选择年级', //下来框默认文字
                    title: '年级选择', //功能和上面noneSelectedText一样

                    styleBase: 'btn btn-default', //基础样式
                    style: 'btn btn-info', //下拉框显示整体样式"默认btn-default"
                    tickIcon: 'glyphicon-star', //更改选中的图标  默认是glyphicon-ok

                    actionsBox: true,
                    deselectAllText: '取消全选', //actionsBox为true才有用
                    selectAllText: '全选', //actionsBox为true才有用

                    header: '年级选择', //option面板标题（增加会包含一个关闭按钮），可以为空。

                    liveSearch: true, //增加一个搜索框
                    //liveSearchStyle:"contains", //contains包含式搜索 ，startsWith开头包含搜索
                    liveSearchPlaceholder: '请搜索', //搜素框中的提示文字
                    noneResultsText: '无此选项', //搜索不到数据时显示文字

                    //size:3,//下拉菜单最多显示的项

                    virtualScroll: 3, //不知道什么用

                    windowPadding: 100,
                    maxOptions: 2, //最多可以选中项数目
                })
            })
        </script>
    </body>
</html>
